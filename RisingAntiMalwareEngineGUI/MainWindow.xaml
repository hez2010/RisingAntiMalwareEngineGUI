<Window x:Class="RisingAntiMalwareEngineGUI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d3="http://research.microsoft.com/DynamicDataDisplay/1.0"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:RisingAntiMalwareEngineGUI"
        xmlns:channels="clr-namespace:System.Runtime.Remoting.Channels;assembly=mscorlib"
        mc:Ignorable="d"
        Name="Form"
        Closing="MainWindow_OnClosing"
        Loaded="MainWindow_Loaded"
        Title="RISING Anti-Malware Engine CommandLine GUI" Height="1333.85" Width="742" ResizeMode="CanMinimize" Icon="Resources/logo.png">
    <Grid>
        <Image HorizontalAlignment="Left" Height="52" Margin="33,23,0,0" VerticalAlignment="Top" Width="48" Stretch="None" Source="Resources/logo.png"/>
        <Label Content="瑞星反恶意软件社区扫描版程序" HorizontalAlignment="Left" Margin="86,31,0,0" VerticalAlignment="Top" FontSize="22"/>
        <Label Name="InitLabel" Content="Label" HorizontalAlignment="Left" Height="4" Margin="86,72,0,0" VerticalAlignment="Top" Width="0" Background="#FF0046FF"/>
        <Label Content="RAMECL GUI Version: 1.0.0.0" HorizontalAlignment="Left" Margin="492,41,0,0" VerticalAlignment="Top" FontSize="14"/>
        <Grid Name="ScanGrid" HorizontalAlignment="Left" Height="320" Margin="129,122,0,0" VerticalAlignment="Top" Width="564">
            <Label Content="待查杀对象：" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="10,10,0,0"/>
            <TextBox x:Name="FileNameTextBox" HorizontalAlignment="Left" Height="25" TextWrapping="NoWrap" VerticalAlignment="Top" Width="394" Margin="97,10,0,0"/>
            <Label Content="当前扫描：" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="153,52,0,0" Width="64"/>
            <TextBlock Name="TbCurrentTarget" TextWrapping="Wrap" Text=""  Margin="160,77,10,209"/>
            <Button x:Name="ButtonStart" Content="开始" HorizontalAlignment="Left" Height="25" VerticalAlignment="Top" Width="54" Click="Button_Click" Margin="496,10,0,0"/>
            <TreeView x:Name="FolderTree" HorizontalAlignment="Left" Height="258" Margin="10,52,0,0" VerticalAlignment="Top" Width="138"  TreeViewItem.Selected="FolderTree_OnSelected" TreeViewItem.Expanded="FolderTree_OnExpanded">
                <TreeView.ItemTemplate>
                    <HierarchicalDataTemplate DataType="{x:Type local:Folder}" ItemsSource="{Binding Children}">
                        <TextBlock Name="FolderTextBlock"  Text="{Binding Name}" />
                    </HierarchicalDataTemplate>
                </TreeView.ItemTemplate>
            </TreeView>
            <Label Content="已用时间：" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="153,116,0,0" Width="64"/>
            <Label Content="扫描速度：" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="358,116,0,0" Width="64"/>
            <Label Content="已扫文件：" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="153,146,0,0" Width="64"/>
            <Label Content="威胁数量：" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="358,146,0,0" Width="64"/>
            <GroupBox Header="CPU (%)" HorizontalAlignment="Left" Height="134" Margin="153,176,0,0" VerticalAlignment="Top" Width="199">
                <Grid HorizontalAlignment="Left" Height="115" Margin="0,0,0,0" VerticalAlignment="Top" Width="189">
                    <d3:ChartPlotter Grid.Column="0" Grid.Row="0"  Name="CpuPlotter"/>
                </Grid>
            </GroupBox>
            <GroupBox Header="内存 (MB)" HorizontalAlignment="Left" Height="134" Margin="358,176,0,0" VerticalAlignment="Top" Width="199">
                <Grid HorizontalAlignment="Left" Height="115" Margin="0,0,0,0" VerticalAlignment="Top" Width="189">
                    <d3:ChartPlotter Grid.Column="0" Grid.Row="0"  Name="MemPlotter"/>
                </Grid>
            </GroupBox>
            <Label Name="SpeedLabel" Content="0 个/s" HorizontalAlignment="Left" Margin="422,116,0,0" VerticalAlignment="Top" Width="132"/>
            <Label Name="TimeLabel" Content="00:00:00" HorizontalAlignment="Left" Margin="217,116,0,0" VerticalAlignment="Top" Width="132"/>
            <Label Name="FileCountLabel" Content="0" HorizontalAlignment="Left" Margin="217,146,0,0" VerticalAlignment="Top" Width="132"/>
            <Label Name="ThreatLabel" Content="0" HorizontalAlignment="Left" Margin="422,146,0,0" VerticalAlignment="Top" Width="132" Foreground="Red"/>
        </Grid>
        <Grid Name="ResultGrid" HorizontalAlignment="Left" Height="337" Margin="129,447,0,0" VerticalAlignment="Top" Width="564">
            <ListView x:Name="ListViewVirInfo" HorizontalAlignment="Left" Height="251" Margin="10,40,0,0" VerticalAlignment="Top" Width="544">
                <ListView.View>
                    <GridView>
                        <GridViewColumn  Width="32">
                            <GridViewColumn.Header >
                                <CheckBox Name="CheckBoxSelectAll" Click="CheckBox_Click_All" ></CheckBox>
                            </GridViewColumn.Header>
                            <GridViewColumn.CellTemplate>
                                <DataTemplate>
                                    <CheckBox IsChecked='{Binding Path=IsSelected, Mode=TwoWay}'></CheckBox>
                                </DataTemplate>
                            </GridViewColumn.CellTemplate>
                        </GridViewColumn>
                        <GridViewColumn Header='病毒名' Width='210' DisplayMemberBinding='{Binding Path=VirName}'/>
                        <GridViewColumn Header='检测引擎' Width='70' DisplayMemberBinding='{Binding Path=DetectEngine}'/>
                        <GridViewColumn Header='文件名' Width='250' DisplayMemberBinding='{Binding Path=FileName}'/>
                        <GridViewColumn Header='处理状态' Width='250' DisplayMemberBinding='{Binding Path=DealState}'/>
                    </GridView>
                </ListView.View>
            </ListView>
            <Label Content="已发现的威胁：" HorizontalAlignment="Left" Margin="10,10,0,0" VerticalAlignment="Top"/>
            <Button Name="DeleteItems" Content="删除" HorizontalAlignment="Left" Margin="445,296,0,0" VerticalAlignment="Top" Width="52" Height="31" Click="DeleteItems_OnClick"/>
            <Button Name="UploadItems" Content="上报" HorizontalAlignment="Left" Margin="502,296,0,0" VerticalAlignment="Top" Width="52" Height="31" Click="UploadItems_OnClick"/>
            <Button Name="PackItems" Content="打包" HorizontalAlignment="Left" Margin="388,296,0,0" VerticalAlignment="Top" Width="52" Height="31" Click="PackItems_OnClick"/>
        </Grid>
        <Grid Name="ConfigGrid" HorizontalAlignment="Left" Height="312" Margin="129,807,0,0" VerticalAlignment="Top" Width="564">
            <GroupBox Header="扫描设置" HorizontalAlignment="Left" Margin="10,10,0,0" VerticalAlignment="Top" Height="145" Width="544">
                <Grid HorizontalAlignment="Left" Height="135" VerticalAlignment="Top" Width="534" Margin="0,0,-2,-12">
                    <CheckBox x:Name="EngineCloud" Content="启用云引擎" IsChecked="True" Margin="10,10,421,103"/>
                    <CheckBox x:Name="EngineRdmPlus" Content="启用 RDM+ 引擎" IsChecked="True" Margin="10,37,398,76"/>
                    <CheckBox x:Name="EngineWorkers" Content="设置扫描线程数为" Margin="10,64,409,47"/>
                    <Slider x:Name="SliderWorkers" HorizontalAlignment="Left" Margin="141,61,0,0" VerticalAlignment="Top" Height="27" Minimum="1" Maximum="8" IsSnapToTickEnabled="True" Value="1" Width="175" SmallChange="1" TickPlacement="BottomRight"/>
                    <TextBlock HorizontalAlignment="Left" Margin="321,63,0,0" TextWrapping="Wrap" Text="{Binding Value, ElementName=SliderWorkers}" VerticalAlignment="Top"/>
                    <Label Content="* 注：默认线程数为 4" HorizontalAlignment="Left" Margin="347,58,0,0" VerticalAlignment="Top" Foreground="Red"/>
                    <CheckBox x:Name="LogOutput" Content="输出日志文件" Margin="10,91,398,23"/>
                    <Label Content="* 注：日志文件输出至当前目录下" HorizontalAlignment="Left" Margin="130,85,0,0" VerticalAlignment="Top" Foreground="Red" Width="271"/>
                </Grid>
            </GroupBox>
        </Grid>
        <Image HorizontalAlignment="Left" Height="70" Margin="22,111,0,0" VerticalAlignment="Top" Width="70" Source="Resources/lightning.png" Stretch="UniformToFill" Cursor="Hand" MouseDown="Scan_OnMouseDown"/>
        <Label Content="扫描" VerticalContentAlignment="Center" HorizontalAlignment="Left" Margin="41,186,0,0" VerticalAlignment="Top"/>
        <Image HorizontalAlignment="Left" Height="70" Margin="22,225,0,0" VerticalAlignment="Top" Width="70" Source="Resources/details.png" Stretch="UniformToFill" Cursor="Hand" MouseDown="Result_OnMouseDown"/>
        <Label Content="结果" VerticalContentAlignment="Center" HorizontalAlignment="Left" Margin="41,300,0,0" VerticalAlignment="Top"/>
        <Image HorizontalAlignment="Left" Height="70" Margin="22,339,0,0" VerticalAlignment="Top" Width="70" Source="Resources/settings.png" Stretch="UniformToFill" Cursor="Hand" MouseDown="Config_OnMouseDown"/>
        <Label Content="配置" VerticalContentAlignment="Center" HorizontalAlignment="Left" Margin="41,414,0,0" VerticalAlignment="Top"/>

    </Grid>
</Window>
